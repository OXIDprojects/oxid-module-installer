language: php
dist: xenial
php:
  - "7.2"

services: mysql

before_install:
  - mysql -e 'CREATE DATABASE oxid;'

before_script:
  - phpenv config-rm xdebug.ini
  - export BRANCH=$(if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then echo $TRAVIS_BRANCH; else echo $TRAVIS_PULL_REQUEST_BRANCH; fi)
  - sh ./.travis.before_script.sh

script:
  - cd ~/OXID/
  - ./vendor/bin/runtests
